<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:cache="http://www.springframework.org/schema/cache"
    xmlns:context="http://www.springframework.org/schema/context"
    xmlns:tx="http://www.springframework.org/schema/tx" xmlns:aop="http://www.springframework.org/schema/aop"
    xsi:schemaLocation="
        http://www.springframework.org/schema/beans 
        http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/cache 
        http://www.springframework.org/schema/cache/spring-cache.xsd
        http://www.springframework.org/schema/context 
        http://www.springframework.org/schema/context/spring-context.xsd
        http://www.springframework.org/schema/tx
        http://www.springframework.org/schema/tx/spring-tx.xsd
        http://www.springframework.org/schema/aop
        http://www.springframework.org/schema/aop/spring-aop.xsd">

    <bean id="multiDataSource" class="lx.spring.db.MultiDataSource"
        destroy-method="destroy">
        <property name="defaultProps">
            <props>
                <prop key="driverClassName">com.mysql.jdbc.Driver</prop>
                <prop key="username">cmt</prop>
                <prop key="password">cmt</prop>
                <prop key="initialSize">1</prop>
                <prop key="maxActive">1</prop>
                <prop key="maxIdle">1</prop>
                <prop key="minIdle">1</prop>
                <prop key="testWhileIdle">true</prop>
                <prop key="validationQuery">select 1</prop>
            </props>
        </property>
        <property name="_dataSources">
            <map>
                <entry key="jdbc:mysql://10.16.41.22:3306/cop_cmt_"
                    value="33-64" />
            </map>
        </property>
    </bean>

    <bean id="cySqlSessionFactoryBean" class="org.mybatis.spring.SqlSessionFactoryBean">
        <property name="dataSource" ref="multiDataSource" />
    </bean>
    <bean id="cyMapperScannerConfigurer" class="org.mybatis.spring.mapper.MapperScannerConfigurer">
        <property name="basePackage" value="lx.spring.db.cyMapper" />
        <property name="sqlSessionFactoryBeanName" value="cySqlSessionFactoryBean" />
    </bean>
</beans>